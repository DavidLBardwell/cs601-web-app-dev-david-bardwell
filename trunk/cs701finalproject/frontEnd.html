<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>David Bardwell CS701 Final Project</title>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
    <link type="text/css" href="css/ui-lightness/jquery-ui-1.8.23.custom.css"
          rel="stylesheet" />
    <script type="text/javascript" 
            src="js/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" 
            src="js/jquery-ui-1.8.23.custom.min.js"></script>    
    
    <script src="js/initialMap.js"></script>
                
    <style type="text/css">
        #map {
	    margin: 5px;
	    width: 800px;
	    height: 600px;
	    border: 1px solid black;
        }

        #searchResults {
            float: right;
            text-align: left;
        }
        #searchResultsTable *{
            text-align: left;
        
        }
    </style>
     
    <script type="text/javascript">
        $(function(){
            var options = {event: "click",
                fx: {opacity : "toggle", 
                     duration: "fast"}};
            $("#target").tabs(options);
            $("#map").hide();
            $('#searchSelection').attr("disabled", "disabled");
            $('#searchResultsTableHeader').hide();

            $("#goPlaces").click(function() {
                // make sure there is a location selection
                var locationSelection = $("#searchSelection").val();
                if (locationSelection !== null && locationSelection.length > 0) {
                    $("#map").show();
                    showMap();
                }    
            });
            
            // load Google search items from items.xml file
            getGoogleSearchItems(); 
            
            // setup autocomplete options
            var options = {
                source : selectEntries,
                select : makeSelection
            };
            $('#searchSelection').autocomplete(options);
        });
        
        // request.term -- user entry
        // callback -- to return array of values
        function selectEntries (request, callback) {
            var result = [];
                
            // filter the data for matching entries on the item name
            // Only match if the search string matches from the 
            // beginning of the given name.
            result = $.grep(itemList,
                function(value, index) {
                    if (request.term.length === 1 && request.term === '*') {
                        return value.label.toLowerCase().length > 0; // all of them
                    } else {
                        return (value.label.toLowerCase().indexOf(
                            request.term.toLowerCase()) === 0);
                    }
                });
           // return the results
           callback(result);
        }
        // when a selection is made
        function makeSelection(event, ui) {
            $('#searchSelection').val(ui.item.data.name);
        }
        
    </script>     

</head>
<body>
    <div id="target">
    <ul>
        <li>
            <a href="#tab1">FindIt! Start Search</a>
        </li>
        <li>
            <a href="#tab2">FindIt! Detail Results</a>
        </li>
        <li>
            <a href="#tab3">FindIt! Reviews</a>
        </li>
    </ul>

    <div id="tab1">
        <h2>Start Searching</h2>
        <p>Enter search criteria below</p>
        <p></p>
                    
        <section id="selectionOption">
            <div id="ui-widget">
            <table>
                <tr>
                    <td><label for="searchSelection" id="search_label">Pick a category:(* to see all)</label></td> 
                    <td><input id="searchSelection" size="30"/></td>
                    <td>
                        <button type="button" id="goPlaces">Places!</button>
                    </td>
                </tr>
                <tr>
                    <td><label for="searchRadius" id="search_radius_label">Enter the search radius:</label></td>
                    <td><input type="number" id="searchRadius" value="1000"/></td>
                    <td></td>
                    <td></td>
                </tr>    
            </table>
            </div>
        </section>
        <p></p>
        
        <div id="searchResults">
            <h3 id="searchResultsTableHeader">Search Result</h3>
            <table id="searchResultsTable">
                
            </table>
        </div>
        
        <div id="map">

        </div>
        <p></p>
            
        <p></p>
        <div id="status">
        
        </div>
                
    </div>
    <div id="tab2">
        <h2>Search Detail Results</h2>
        
        <p id="locationTitle">   </p>
        
        <div id="photos">
            
        </div>
        
        <div id="output">
            
        </div>
                
    
    </div>
    <div id="tab3">
        <h1>Reviews</h1>
                
                
                
                
                
    </div>
    </div>
</body>
</html>
